{
  "workDir": "/Users/kgalli/dev",
  "projectName": "orchestrator",
  "networkName": "orchestrator",
  "environments": [
    "development",
    "test"
  ],
  "defaultEnvironment": "development",
  "services": [
    {
      "name": "api",
      "repositoryUrl": "github.com/kgalli/javalin-playground",
      "source": "internal",
      "environments": {
        "default": {
          "ports": [
            "3000:3000"
          ],
          "runType": {
            "source": {
              "volumes": [
                "./javalin-playground:/usr/src/app"
              ],
              "build": {
                "context": "./javalin-playground",
                "dockerfile": "Dockerfile"
              }
            },
            "image": "kgalli/javalin-playground"
          }
        },
        "development": {
          "environment": {
            "API_URL": "http://localhost:3000",
            "DB_HOST": "db",
            "DB_PORT": "5432",
            "DB_USER": "kgalli",
            "DB_PASSWORD": "pg",
            "DB_ENGINE": "postgresql"
          }
        },
        "test": {
          "ports": [
            "3010:3000"
          ],
          "API_URL": "http://localhost:3000",
          "DB_HOST": "db",
          "DB_PORT": "3306",
          "DB_USER": "kgalli",
          "DB_PASSWORD": "pg",
          "DB_ENGINE": "mysql"
        }
      }
    },
    {
      "name": "db",
      "repositoryUrl": "github.com/kgalli/postgres",
      "source": "external",
      "environments": {
        "default": {
          "ports": [
            "9999:5432"
          ],
          "runType": {
            "source": {
              "build": {
                "context": "./demo",
                "dockerfile": "Dockerfile"
              }
            },
            "image": "postgres"
          },
          "environment": {
            "POSTGRES_PASSWORD": "pg",
            "POSTGRES_USER": "kgalli"
          }
        },
        "development": {
        },
        "test": {
          "ports": [
            "9998:5432"
          ]
        }
      }
    }
  ]
}
